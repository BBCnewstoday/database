-- ----------------------------------------
-- Added to prevent timeout's while loading
-- ----------------------------------------
SET GLOBAL net_read_timeout=30;
SET GLOBAL net_write_timeout=60;
SET GLOBAL net_buffer_length=1000000; 
SET GLOBAL max_allowed_packet=1000000000;
SET GLOBAL connect_timeout=10000000;

-- --------------------------------------------------------------------------------
-- This is an attempt to create a full transactional MaNGOS update (v1.3)
-- --------------------------------------------------------------------------------
DROP PROCEDURE IF EXISTS `update_mangos`; 

DELIMITER $$

CREATE DEFINER=`root`@`localhost` PROCEDURE `update_mangos`()
BEGIN
    DECLARE bRollback BOOL  DEFAULT FALSE ;
    DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SET `bRollback` = TRUE;

    -- Current Values (TODO - must be a better way to do this)
    SET @cCurVersion := (SELECT `version` FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
    SET @cCurStructure := (SELECT structure FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
    SET @cCurContent := (SELECT content FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);

    -- Expected Values
    SET @cOldVersion = '21'; 
    SET @cOldStructure = '04'; 
    SET @cOldContent = '04';

    -- New Values
    SET @cNewVersion = '21';
    SET @cNewStructure = '04';
    SET @cNewContent = '05';
                            -- DESCRIPTION IS 30 Characters MAX    
    SET @cNewDescription = 'Pet_Setup_error_Fix';

                        -- COMMENT is 150 Characters MAX
    SET @cNewComment = 'Pet_Setup_error_Fix';

    -- Evaluate all settings
    SET @cCurResult := (SELECT description FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
    SET @cOldResult := (SELECT description FROM db_version WHERE `version`=@cOldVersion AND `structure`=@cOldStructure AND `content`=@cOldContent);
    SET @cNewResult := (SELECT description FROM db_version WHERE `version`=@cNewVersion AND `structure`=@cNewStructure AND `content`=@cNewContent);

    IF (@cCurResult = @cOldResult) THEN    -- Does the current version match the expected version
        -- APPLY UPDATE
        START TRANSACTION;

        -- UPDATE THE DB VERSION
        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
        INSERT INTO `db_version` VALUES (@cNewVersion, @cNewStructure, @cNewContent, @cNewDescription, @cNewComment);
        SET @cNewResult := (SELECT description FROM db_version WHERE `version`=@cNewVersion AND `structure`=@cNewStructure AND `content`=@cNewContent);

        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
        -- -- PLACE UPDATE SQL BELOW -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
/*
This will fix almost all pet_levelstats table errors during startup
Thanks to X-Savior (cMangos)
*/

DELETE FROM `pet_levelstats` WHERE `creature_entry` IN (4661, 11614, 6250, 3939, 6412, 4196, 18201, 19461, 16303);
INSERT INTO `pet_levelstats` (`creature_entry`, `level`, `hp`, `mana`, `armor`, `str`, `agi`, `sta`, `inte`, `spi`) VALUES
-- 4661 --
(4661,1,42,1,20,22,20,22,20,20),
(4661,2,55,1,21,23,21,23,20,20),
(4661,3,71,1,46,24,21,24,20,21),
(4661,4,86,1,82,25,22,25,21,21),
(4661,5,102,1,126,26,23,25,21,21),
(4661,6,120,1,180,27,24,26,21,22),
(4661,7,137,1,245,28,24,27,21,22),
(4661,8,156,1,322,29,25,28,22,22),
(4661,9,176,1,412,30,26,29,22,23),
(4661,10,198,1,518,31,26,30,22,23),
(4661,11,222,1,545,32,27,34,22,24),
(4661,12,247,1,580,33,28,38,23,25),
(4661,13,273,1,615,34,30,42,23,25),
(4661,14,300,1,650,35,31,46,23,27),
(4661,15,328,1,685,37,32,51,24,28),
(4661,16,356,1,721,38,33,55,25,29),
(4661,17,386,1,756,40,34,59,25,30),
(4661,18,417,1,791,42,36,63,25,30),
(4661,19,449,1,826,44,37,67,26,32),
(4661,20,484,1,861,45,39,72,27,33),
(4661,21,521,1,897,47,39,76,27,34),
(4661,22,562,1,932,49,40,80,27,35),
(4661,23,605,1,967,50,42,84,28,36),
(4661,24,651,1,1002,52,43,88,28,37),
(4661,25,699,1,1037,53,45,94,29,39),
(4661,26,750,1,1072,55,46,98,30,39),
(4661,27,800,1,1108,56,47,102,30,40),
(4661,28,853,1,1142,58,49,106,30,41),
(4661,29,905,1,1177,60,50,110,31,42),
(4661,30,955,1,1212,61,52,115,32,44),
(4661,31,1006,1,1247,63,53,120,32,44),
(4661,32,1057,1,1283,64,54,124,33,46),
(4661,33,1110,1,1317,66,56,128,33,46),
(4661,34,1163,1,1353,67,57,132,33,48),
(4661,35,1220,1,1387,69,59,138,35,49),
(4661,36,1277,1,1494,70,60,142,35,50),
(4661,37,1336,1,1607,72,61,146,35,52),
(4661,38,1395,1,1724,74,63,151,36,52),
(4661,39,1459,1,1849,76,64,155,36,54),
(4661,40,1524,1,1980,78,66,160,37,55),
(4661,41,1585,1,2117,81,68,165,38,56),
(4661,42,1651,1,2262,86,69,169,38,57),
(4661,43,1716,1,2414,91,71,174,39,58),
(4661,44,1782,1,2574,97,72,178,39,59),
(4661,45,1848,1,2742,102,74,184,40,61),
(4661,46,1919,1,2798,104,75,188,41,62),
(4661,47,1990,1,2853,106,77,193,41,63),
(4661,48,2062,1,2907,108,79,197,42,64),
(4661,49,2138,1,2963,110,80,202,42,66),
(4661,50,2215,1,3018,113,82,207,43,67),
(4661,51,2292,1,3072,115,84,212,44,68),
(4661,52,2371,1,3128,117,85,216,44,69),
(4661,53,2453,1,3183,119,87,221,45,70),
(4661,54,2533,1,3237,122,89,226,45,72),
(4661,55,2614,1,3292,124,91,231,47,73),
(4661,56,2699,1,3348,127,92,236,47,74),
(4661,57,2784,1,3402,129,94,241,48,76),
(4661,58,2871,1,3457,131,96,245,48,77),
(4661,59,2961,1,3512,134,98,250,49,78),
(4661,60,3052,1,3814,136,100,256,50,80),
(4661,61,3144,1,4113,139,102,161,51,81),
(4661,62,3237,1,4410,141,105,266,52,83),
(4661,63,3331,1,4708,144,107,271,53,85),
(4661,64,3425,1,5006,146,110,276,54,87),
(4661,65,3524,1,5303,149,113,281,55,89),
(4661,66,3624,1,5601,151,116,287,56,91),
(4661,67,3728,1,5900,154,119,292,57,93),
(4661,68,3834,1,6197,156,122,297,58,95),
(4661,69,3941,1,6495,159,125,302,59,97),
(4661,70,4051,1,6794,162,128,307,60,99),

-- 11614 --
(11614,1,42,1,20,22,20,22,20,20),
(11614,2,55,1,21,23,21,23,20,20),
(11614,3,71,1,46,24,21,24,20,21),
(11614,4,86,1,82,25,22,25,21,21),
(11614,5,102,1,126,26,23,25,21,21),
(11614,6,120,1,180,27,24,26,21,22),
(11614,7,137,1,245,28,24,27,21,22),
(11614,8,156,1,322,29,25,28,22,22),
(11614,9,176,1,412,30,26,29,22,23),
(11614,10,198,1,518,31,26,30,22,23),
(11614,11,222,1,545,32,27,34,22,24),
(11614,12,247,1,580,33,28,38,23,25),
(11614,13,273,1,615,34,30,42,23,25),
(11614,14,300,1,650,35,31,46,23,27),
(11614,15,328,1,685,37,32,51,24,28),
(11614,16,356,1,721,38,33,55,25,29),
(11614,17,386,1,756,40,34,59,25,30),
(11614,18,417,1,791,42,36,63,25,30),
(11614,19,449,1,826,44,37,67,26,32),
(11614,20,484,1,861,45,39,72,27,33),
(11614,21,521,1,897,47,39,76,27,34),
(11614,22,562,1,932,49,40,80,27,35),
(11614,23,605,1,967,50,42,84,28,36),
(11614,24,651,1,1002,52,43,88,28,37),
(11614,25,699,1,1037,53,45,94,29,39),
(11614,26,750,1,1072,55,46,98,30,39),
(11614,27,800,1,1108,56,47,102,30,40),
(11614,28,853,1,1142,58,49,106,30,41),
(11614,29,905,1,1177,60,50,110,31,42),
(11614,30,955,1,1212,61,52,115,32,44),
(11614,31,1006,1,1247,63,53,120,32,44),
(11614,32,1057,1,1283,64,54,124,33,46),
(11614,33,1110,1,1317,66,56,128,33,46),
(11614,34,1163,1,1353,67,57,132,33,48),
(11614,35,1220,1,1387,69,59,138,35,49),
(11614,36,1277,1,1494,70,60,142,35,50),
(11614,37,1336,1,1607,72,61,146,35,52),
(11614,38,1395,1,1724,74,63,151,36,52),
(11614,39,1459,1,1849,76,64,155,36,54),
(11614,40,1524,1,1980,78,66,160,37,55),
(11614,41,1585,1,2117,81,68,165,38,56),
(11614,42,1651,1,2262,86,69,169,38,57),
(11614,43,1716,1,2414,91,71,174,39,58),
(11614,44,1782,1,2574,97,72,178,39,59),
(11614,45,1848,1,2742,102,74,184,40,61),
(11614,46,1919,1,2798,104,75,188,41,62),
(11614,47,1990,1,2853,106,77,193,41,63),
(11614,48,2062,1,2907,108,79,197,42,64),
(11614,49,2138,1,2963,110,80,202,42,66),
(11614,50,2215,1,3018,113,82,207,43,67),
(11614,51,2292,1,3072,115,84,212,44,68),
(11614,52,2371,1,3128,117,85,216,44,69),
(11614,53,2453,1,3183,119,87,221,45,70),
(11614,54,2533,1,3237,122,89,226,45,72),
(11614,55,2614,1,3292,124,91,231,47,73),
(11614,56,2699,1,3348,127,92,236,47,74),
(11614,57,2784,1,3402,129,94,241,48,76),
(11614,58,2871,1,3457,131,96,245,48,77),
(11614,59,2961,1,3512,134,98,250,49,78),
(11614,60,3052,1,3814,136,100,256,50,80),
(11614,61,3144,1,4113,139,102,161,51,81),
(11614,62,3237,1,4410,141,105,266,52,83),
(11614,63,3331,1,4708,144,107,271,53,85),
(11614,64,3425,1,5006,146,110,276,54,87),
(11614,65,3524,1,5303,149,113,281,55,89),
(11614,66,3624,1,5601,151,116,287,56,91),
(11614,67,3728,1,5900,154,119,292,57,93),
(11614,68,3834,1,6197,156,122,297,58,95),
(11614,69,3941,1,6495,159,125,302,59,97),
(11614,70,4051,1,6794,162,128,307,60,99),

-- 6250 --
(6250,1,140,48,20,20,5,20,24,23),
(6250,2,149,59,20,21,5,2,25,24),
(6250,3,158,70,20,15,5,4,26,25),
(6250,4,168,81,33,17,5,8,27,26),
(6250,5,177,92,49,18,5,12,28,27),
(6250,6,186,103,68,20,7,16,29,27),
(6250,7,195,114,92,22,7,21,30,28),
(6250,8,204,125,117,23,8,25,31,29),
(6250,9,213,136,147,25,9,27,32,30),
(6250,10,223,147,180,29,10,29,33,31),
(6250,11,232,158,190,30,11,32,37,35),
(6250,12,250,180,203,31,12,36,41,39),
(6250,13,289,203,215,32,13,43,50,43),
(6250,14,299,227,228,33,13,44,54,47),
(6250,15,309,251,240,34,13,48,57,52),
(6250,16,329,275,253,36,13,52,62,56),
(6250,17,350,300,265,38,13,55,65,65),
(6250,18,362,314,278,39,13,59,70,70),
(6250,19,393,351,291,40,13,63,74,75),
(6250,20,403,377,303,42,13,67,87,78),
(6250,21,425,393,320,44,13,80,91,83),
(6250,22,449,420,346,46,13,84,95,86),
(6250,23,473,447,360,47,13,89,96,90),
(6250,24,520,476,373,49,13,93,97,95),
(6250,25,540,504,386,50,13,97,98,100),
(6250,26,569,534,399,52,13,101,60,78),
(6250,27,571,564,411,53,14,105,61,81),
(6250,28,574,592,424,55,15,110,62,86),
(6250,29,576,620,436,57,16,114,62,89),
(6250,30,579,648,449,57,16,118,63,92),
(6250,31,581,676,462,59,16,123,64,95),
(6250,32,590,720,476,60,17,127,64,98),
(6250,33,598,742,488,62,18,131,65,101),
(6250,34,601,793,501,63,19,135,65,104),
(6250,35,609,845,513,64,19,136,66,107),
(6250,36,617,879,525,67,19,137,66,110),
(6250,37,626,916,537,69,19,138,68,112),
(6250,38,634,952,549,70,19,139,68,115),
(6250,39,642,988,561,72,19,142,69,118),
(6250,40,650,1026,639,74,20,147,156,142),
(6250,41,668,1063,694,77,20,152,160,143),
(6250,42,676,1103,756,81,20,156,163,144),
(6250,43,685,1187,808,87,20,160,167,145),
(6250,44,693,1214,853,91,21,164,170,146),
(6250,45,701,1240,884,96,21,169,174,148),
(6250,46,709,1267,910,98,22,173,177,149),
(6250,47,718,1294,928,100,22,177,181,151),
(6250,48,726,1320,946,102,22,181,184,152),
(6250,49,734,1347,964,105,22,186,188,155),
(6250,50,747,1391,983,107,22,190,194,158),
(6250,51,750,1435,996,109,22,194,202,161),
(6250,52,764,1481,1013,112,24,198,208,165),
(6250,53,787,1527,1039,114,25,203,215,168),
(6250,54,820,1573,1055,115,26,207,222,172),
(6250,55,836,1620,1078,119,26,211,229,177),
(6250,56,846,1666,1091,121,27,215,236,181),
(6250,57,850,1714,1101,123,27,220,243,185),
(6250,58,862,1763,1125,125,27,224,250,189),
(6250,59,878,1824,1150,127,27,230,258,192),
(6250,60,920,1898,1163,122,27,128,264,197),
(6250,61,973,1925,1608,132,29,251,271,239),
(6250,62,1050,1977,1663,135,31,253,278,241),
(6250,63,1188,2030,1732,137,32,255,285,244),
(6250,64,1292,2084,1809,139,33,259,292,247),
(6250,65,1335,2137,1844,142,33,264,299,250),
(6250,66,1357,2191,1872,144,33,268,306,255),
(6250,67,1401,2244,1900,146,33,272,313,258),
(6250,68,1429,2298,1987,148,34,276,320,260),
(6250,69,1464,2351,2008,151,36,278,327,262),
(6250,70,1528,2568,2227,152,39,103,334,264),

-- 3939 --
(3939,1,140,48,20,20,5,20,24,23),
(3939,2,149,59,20,21,5,2,25,24),
(3939,3,158,70,20,15,5,4,26,25),
(3939,4,168,81,33,17,5,8,27,26),
(3939,5,177,92,49,18,5,12,28,27),
(3939,6,186,103,68,20,7,16,29,27),
(3939,7,195,114,92,22,7,21,30,28),
(3939,8,204,125,117,23,8,25,31,29),
(3939,9,213,136,147,25,9,27,32,30),
(3939,10,223,147,180,29,10,29,33,31),
(3939,11,232,158,190,30,11,32,37,35),
(3939,12,250,180,203,31,12,36,41,39),
(3939,13,289,203,215,32,13,43,50,43),
(3939,14,299,227,228,33,13,44,54,47),
(3939,15,309,251,240,34,13,48,57,52),
(3939,16,329,275,253,36,13,52,62,56),
(3939,17,350,300,265,38,13,55,65,65),
(3939,18,362,314,278,39,13,59,70,70),
(3939,19,393,351,291,40,13,63,74,75),
(3939,20,403,377,303,42,13,67,87,78),
(3939,21,425,393,320,44,13,80,91,83),
(3939,22,449,420,346,46,13,84,95,86),
(3939,23,473,447,360,47,13,89,96,90),
(3939,24,520,476,373,49,13,93,97,95),
(3939,25,540,504,386,50,13,97,98,100),
(3939,26,569,534,399,52,13,101,60,78),
(3939,27,571,564,411,53,14,105,61,81),
(3939,28,574,592,424,55,15,110,62,86),
(3939,29,576,620,436,57,16,114,62,89),
(3939,30,579,648,449,57,16,118,63,92),
(3939,31,581,676,462,59,16,123,64,95),
(3939,32,590,720,476,60,17,127,64,98),
(3939,33,598,742,488,62,18,131,65,101),
(3939,34,601,793,501,63,19,135,65,104),
(3939,35,609,845,513,64,19,136,66,107),
(3939,36,617,879,525,67,19,137,66,110),
(3939,37,626,916,537,69,19,138,68,112),
(3939,38,634,952,549,70,19,139,68,115),
(3939,39,642,988,561,72,19,142,69,118),
(3939,40,650,1026,639,74,20,147,156,142),
(3939,41,668,1063,694,77,20,152,160,143),
(3939,42,676,1103,756,81,20,156,163,144),
(3939,43,685,1187,808,87,20,160,167,145),
(3939,44,693,1214,853,91,21,164,170,146),
(3939,45,701,1240,884,96,21,169,174,148),
(3939,46,709,1267,910,98,22,173,177,149),
(3939,47,718,1294,928,100,22,177,181,151),
(3939,48,726,1320,946,102,22,181,184,152),
(3939,49,734,1347,964,105,22,186,188,155),
(3939,50,747,1391,983,107,22,190,194,158),
(3939,51,750,1435,996,109,22,194,202,161),
(3939,52,764,1481,1013,112,24,198,208,165),
(3939,53,787,1527,1039,114,25,203,215,168),
(3939,54,820,1573,1055,115,26,207,222,172),
(3939,55,836,1620,1078,119,26,211,229,177),
(3939,56,846,1666,1091,121,27,215,236,181),
(3939,57,850,1714,1101,123,27,220,243,185),
(3939,58,862,1763,1125,125,27,224,250,189),
(3939,59,878,1824,1150,127,27,230,258,192),
(3939,60,920,1898,1163,122,27,128,264,197),
(3939,61,973,1925,1608,132,29,251,271,239),
(3939,62,1050,1977,1663,135,31,253,278,241),
(3939,63,1188,2030,1732,137,32,255,285,244),
(3939,64,1292,2084,1809,139,33,259,292,247),
(3939,65,1335,2137,1844,142,33,264,299,250),
(3939,66,1357,2191,1872,144,33,268,306,255),
(3939,67,1401,2244,1900,146,33,272,313,258),
(3939,68,1429,2298,1987,148,34,276,320,260),
(3939,69,1464,2351,2008,151,36,278,327,262),
(3939,70,1528,2568,2227,152,39,103,334,264),

-- 6412 --
(6412,1,42,1,20,22,20,22,20,20),
(6412,2,55,1,21,23,21,23,20,20),
(6412,3,71,1,46,24,21,24,20,21),
(6412,4,86,1,82,25,22,25,21,21),
(6412,5,102,1,126,26,23,25,21,21),
(6412,6,120,1,180,27,24,26,21,22),
(6412,7,137,1,245,28,24,27,21,22),
(6412,8,156,1,322,29,25,28,22,22),
(6412,9,176,1,412,30,26,29,22,23),
(6412,10,198,1,518,31,26,30,22,23),
(6412,11,222,1,545,32,27,34,22,24),
(6412,12,247,1,580,33,28,38,23,25),
(6412,13,273,1,615,34,30,42,23,25),
(6412,14,300,1,650,35,31,46,23,27),
(6412,15,328,1,685,37,32,51,24,28),
(6412,16,356,1,721,38,33,55,25,29),
(6412,17,386,1,756,40,34,59,25,30),
(6412,18,417,1,791,42,36,63,25,30),
(6412,19,449,1,826,44,37,67,26,32),
(6412,20,484,1,861,45,39,72,27,33),
(6412,21,521,1,897,47,39,76,27,34),
(6412,22,562,1,932,49,40,80,27,35),
(6412,23,605,1,967,50,42,84,28,36),
(6412,24,651,1,1002,52,43,88,28,37),
(6412,25,699,1,1037,53,45,94,29,39),
(6412,26,750,1,1072,55,46,98,30,39),
(6412,27,800,1,1108,56,47,102,30,40),
(6412,28,853,1,1142,58,49,106,30,41),
(6412,29,905,1,1177,60,50,110,31,42),
(6412,30,955,1,1212,61,52,115,32,44),
(6412,31,1006,1,1247,63,53,120,32,44),
(6412,32,1057,1,1283,64,54,124,33,46),
(6412,33,1110,1,1317,66,56,128,33,46),
(6412,34,1163,1,1353,67,57,132,33,48),
(6412,35,1220,1,1387,69,59,138,35,49),
(6412,36,1277,1,1494,70,60,142,35,50),
(6412,37,1336,1,1607,72,61,146,35,52),
(6412,38,1395,1,1724,74,63,151,36,52),
(6412,39,1459,1,1849,76,64,155,36,54),
(6412,40,1524,1,1980,78,66,160,37,55),
(6412,41,1585,1,2117,81,68,165,38,56),
(6412,42,1651,1,2262,86,69,169,38,57),
(6412,43,1716,1,2414,91,71,174,39,58),
(6412,44,1782,1,2574,97,72,178,39,59),
(6412,45,1848,1,2742,102,74,184,40,61),
(6412,46,1919,1,2798,104,75,188,41,62),
(6412,47,1990,1,2853,106,77,193,41,63),
(6412,48,2062,1,2907,108,79,197,42,64),
(6412,49,2138,1,2963,110,80,202,42,66),
(6412,50,2215,1,3018,113,82,207,43,67),
(6412,51,2292,1,3072,115,84,212,44,68),
(6412,52,2371,1,3128,117,85,216,44,69),
(6412,53,2453,1,3183,119,87,221,45,70),
(6412,54,2533,1,3237,122,89,226,45,72),
(6412,55,2614,1,3292,124,91,231,47,73),
(6412,56,2699,1,3348,127,92,236,47,74),
(6412,57,2784,1,3402,129,94,241,48,76),
(6412,58,2871,1,3457,131,96,245,48,77),
(6412,59,2961,1,3512,134,98,250,49,78),
(6412,60,3052,1,3814,136,100,256,50,80),
(6412,61,3144,1,4113,139,102,161,51,81),
(6412,62,3237,1,4410,141,105,266,52,83),
(6412,63,3331,1,4708,144,107,271,53,85),
(6412,64,3425,1,5006,146,110,276,54,87),
(6412,65,3524,1,5303,149,113,281,55,89),
(6412,66,3624,1,5601,151,116,287,56,91),
(6412,67,3728,1,5900,154,119,292,57,93),
(6412,68,3834,1,6197,156,122,297,58,95),
(6412,69,3941,1,6495,159,125,302,59,97),
(6412,70,4051,1,6794,162,128,307,60,99),

-- 4196 --
(4196,1,1,0,100,10,10,0,0,0),
(4196,2,1,0,100,10,10,0,0,0),
(4196,3,1,0,100,10,10,0,0,0),
(4196,4,1,0,100,10,10,0,0,0),
(4196,5,1,0,100,10,10,0,0,0),
(4196,6,1,0,100,10,10,0,0,0),
(4196,7,1,0,100,10,10,0,0,0),
(4196,8,1,0,100,10,10,0,0,0),
(4196,9,1,0,100,10,10,0,0,0),
(4196,10,1,0,100,10,10,0,0,0),
(4196,11,1,0,100,10,10,0,0,0),
(4196,12,1,0,100,10,10,0,0,0),
(4196,13,1,0,100,10,10,0,0,0),
(4196,14,1,0,100,10,10,0,0,0),
(4196,15,1,0,100,10,10,0,0,0),
(4196,16,1,0,100,10,10,0,0,0),
(4196,17,1,0,100,10,10,0,0,0),
(4196,18,1,0,100,10,10,0,0,0),
(4196,19,1,0,100,10,10,0,0,0),
(4196,20,1,0,100,10,10,0,0,0),
(4196,21,1,0,100,10,10,0,0,0),
(4196,22,1,0,100,10,10,0,0,0),
(4196,23,1,0,100,10,10,0,0,0),
(4196,24,1,0,100,10,10,0,0,0),
(4196,25,1,0,100,10,10,0,0,0),
(4196,26,1,0,100,10,10,0,0,0),
(4196,27,1,0,100,10,10,0,0,0),
(4196,28,1,0,100,10,10,0,0,0),
(4196,29,1,0,100,10,10,0,0,0),
(4196,30,1,0,100,10,10,0,0,0),
(4196,31,1,0,100,10,10,0,0,0),
(4196,32,1,0,100,10,10,0,0,0),
(4196,33,1,0,100,10,10,0,0,0),
(4196,34,1,0,100,10,10,0,0,0),
(4196,35,1,0,100,10,10,0,0,0),
(4196,36,1,0,100,10,10,0,0,0),
(4196,37,1,0,100,10,10,0,0,0),
(4196,38,1,0,100,10,10,0,0,0),
(4196,39,1,0,100,10,10,0,0,0),
(4196,40,1,0,100,10,10,0,0,0),
(4196,41,1,0,100,10,10,0,0,0),
(4196,42,1,0,100,10,10,0,0,0),
(4196,43,1,0,100,10,10,0,0,0),
(4196,44,1,0,100,10,10,0,0,0),
(4196,45,1,0,100,10,10,0,0,0),
(4196,46,1,0,100,10,10,0,0,0),
(4196,47,1,0,100,10,10,0,0,0),
(4196,48,1,0,100,10,10,0,0,0),
(4196,49,1,0,100,10,10,0,0,0),
(4196,50,1,0,100,10,10,0,0,0),
(4196,51,1,0,100,10,10,0,0,0),
(4196,52,1,0,100,10,10,0,0,0),
(4196,53,1,0,100,10,10,0,0,0),
(4196,54,1,0,100,10,10,0,0,0),
(4196,55,1,0,100,10,10,0,0,0),
(4196,56,1,0,100,10,10,0,0,0),
(4196,57,1,0,100,10,10,0,0,0),
(4196,58,1,0,100,10,10,0,0,0),
(4196,59,1,0,100,10,10,0,0,0),
(4196,60,1,0,100,10,10,0,0,0),
(4196,61,1,0,100,10,10,0,0,0),
(4196,62,1,0,100,10,10,0,0,0),
(4196,63,1,0,100,10,10,0,0,0),
(4196,64,1,0,100,10,10,0,0,0),
(4196,65,1,0,100,10,10,0,0,0),
(4196,66,1,0,100,10,10,0,0,0),
(4196,67,1,0,100,10,10,0,0,0),
(4196,68,1,0,100,10,10,0,0,0),
(4196,69,1,0,100,10,10,0,0,0),
(4196,70,1,0,100,10,10,0,0,0),

-- 18201 --
(18201,1,48,80,10,20,16,13,20,8),
(18201,2,105,106,67,22,17,14,21,9),
(18201,3,162,132,124,24,18,15,22,10),
(18201,4,219,158,181,26,19,16,23,11),
(18201,5,276,184,238,28,20,17,24,12),
(18201,6,333,210,295,30,21,18,25,13),
(18201,7,390,236,352,32,22,19,26,14),
(18201,8,447,262,409,34,23,20,27,15),
(18201,9,504,288,466,36,24,21,28,16),
(18201,10,561,314,523,38,25,22,29,17),
(18201,11,618,340,580,40,26,23,30,18),
(18201,12,675,366,637,42,27,24,31,19),
(18201,13,732,392,694,44,28,25,32,20),
(18201,14,789,418,751,46,29,26,33,21),
(18201,15,846,444,808,48,30,27,34,22),
(18201,16,903,470,865,50,31,28,35,23),
(18201,17,960,496,922,52,32,29,36,24),
(18201,18,1017,522,979,54,33,30,37,25),
(18201,19,1074,548,1036,56,34,31,38,26),
(18201,20,1131,574,1093,58,35,32,39,27),
(18201,21,1188,600,1150,60,36,33,40,28),
(18201,22,1245,626,1207,62,37,34,41,29),
(18201,23,1302,652,1264,64,38,35,42,30),
(18201,24,1359,678,1321,66,39,36,43,31),
(18201,25,1416,704,1378,68,40,37,44,32),
(18201,26,1473,730,1435,70,41,38,45,33),
(18201,27,1530,756,1492,72,42,39,46,34),
(18201,28,1587,782,1549,74,43,40,47,35),
(18201,29,1644,808,1606,76,44,41,48,36),
(18201,30,1701,834,1663,78,45,42,49,37),
(18201,31,1758,860,1720,80,46,43,50,38),
(18201,32,1815,886,1777,82,47,44,51,39),
(18201,33,1872,912,1834,84,48,45,52,40),
(18201,34,1929,938,1891,86,49,46,53,41),
(18201,35,1986,964,1948,88,50,47,54,42),
(18201,36,2043,990,2005,90,51,48,55,43),
(18201,37,2100,1016,2062,92,52,49,56,44),
(18201,38,2157,1042,2119,94,53,50,57,45),
(18201,39,2214,1068,2176,96,54,51,58,46),
(18201,40,2271,1094,2233,98,55,52,59,47),
(18201,41,2328,1120,2290,100,56,53,60,48),
(18201,42,2385,1146,2347,102,57,54,61,49),
(18201,43,2442,1172,2404,104,58,55,62,50),
(18201,44,2499,1198,2461,106,59,56,63,51),
(18201,45,2556,1224,2518,108,60,57,64,52),
(18201,46,2613,1250,2575,110,61,58,65,53),
(18201,47,2670,1276,2632,112,62,59,66,54),
(18201,48,2727,1302,2689,114,63,60,67,55),
(18201,49,2784,1328,2746,116,64,61,68,56),
(18201,50,2841,1354,2803,118,65,62,69,57),
(18201,51,2898,1380,2860,120,66,63,70,58),
(18201,52,2955,1406,2917,122,67,64,71,59),
(18201,53,3012,1432,2974,124,68,65,72,60),
(18201,54,3069,1458,3031,126,69,66,73,61),
(18201,55,3126,1484,3088,128,70,67,74,62),
(18201,56,3183,1510,3145,130,71,68,75,63),
(18201,57,3240,1536,3202,132,72,69,76,64),
(18201,58,3297,1562,3259,134,73,70,77,65),
(18201,59,3354,1588,3316,136,74,71,78,66),
(18201,60,3411,1614,3373,138,75,72,79,67),
(18201,61,3468,1640,3430,140,76,73,80,68),
(18201,62,3525,1666,3487,142,77,74,81,69),
(18201,63,3582,1692,3544,144,78,75,82,70),
(18201,64,3639,1718,3601,146,79,76,83,71),
(18201,65,3696,1744,3658,148,80,77,84,72),
(18201,66,3753,1770,3715,150,81,78,85,73),
(18201,67,3810,1796,3772,152,82,79,86,74),
(18201,68,3867,1822,3829,154,83,80,87,75),
(18201,69,3924,1848,3886,156,84,81,88,76),
(18201,70,3981,1874,3943,158,85,82,89,77),

-- 19461 --
(19461,1,48,80,10,20,16,13,20,8),
(19461,2,105,106,67,22,17,14,21,9),
(19461,3,162,132,124,24,18,15,22,10),
(19461,4,219,158,181,26,19,16,23,11),
(19461,5,276,184,238,28,20,17,24,12),
(19461,6,333,210,295,30,21,18,25,13),
(19461,7,390,236,352,32,22,19,26,14),
(19461,8,447,262,409,34,23,20,27,15),
(19461,9,504,288,466,36,24,21,28,16),
(19461,10,561,314,523,38,25,22,29,17),
(19461,11,618,340,580,40,26,23,30,18),
(19461,12,675,366,637,42,27,24,31,19),
(19461,13,732,392,694,44,28,25,32,20),
(19461,14,789,418,751,46,29,26,33,21),
(19461,15,846,444,808,48,30,27,34,22),
(19461,16,903,470,865,50,31,28,35,23),
(19461,17,960,496,922,52,32,29,36,24),
(19461,18,1017,522,979,54,33,30,37,25),
(19461,19,1074,548,1036,56,34,31,38,26),
(19461,20,1131,574,1093,58,35,32,39,27),
(19461,21,1188,600,1150,60,36,33,40,28),
(19461,22,1245,626,1207,62,37,34,41,29),
(19461,23,1302,652,1264,64,38,35,42,30),
(19461,24,1359,678,1321,66,39,36,43,31),
(19461,25,1416,704,1378,68,40,37,44,32),
(19461,26,1473,730,1435,70,41,38,45,33),
(19461,27,1530,756,1492,72,42,39,46,34),
(19461,28,1587,782,1549,74,43,40,47,35),
(19461,29,1644,808,1606,76,44,41,48,36),
(19461,30,1701,834,1663,78,45,42,49,37),
(19461,31,1758,860,1720,80,46,43,50,38),
(19461,32,1815,886,1777,82,47,44,51,39),
(19461,33,1872,912,1834,84,48,45,52,40),
(19461,34,1929,938,1891,86,49,46,53,41),
(19461,35,1986,964,1948,88,50,47,54,42),
(19461,36,2043,990,2005,90,51,48,55,43),
(19461,37,2100,1016,2062,92,52,49,56,44),
(19461,38,2157,1042,2119,94,53,50,57,45),
(19461,39,2214,1068,2176,96,54,51,58,46),
(19461,40,2271,1094,2233,98,55,52,59,47),
(19461,41,2328,1120,2290,100,56,53,60,48),
(19461,42,2385,1146,2347,102,57,54,61,49),
(19461,43,2442,1172,2404,104,58,55,62,50),
(19461,44,2499,1198,2461,106,59,56,63,51),
(19461,45,2556,1224,2518,108,60,57,64,52),
(19461,46,2613,1250,2575,110,61,58,65,53),
(19461,47,2670,1276,2632,112,62,59,66,54),
(19461,48,2727,1302,2689,114,63,60,67,55),
(19461,49,2784,1328,2746,116,64,61,68,56),
(19461,50,2841,1354,2803,118,65,62,69,57),
(19461,51,2898,1380,2860,120,66,63,70,58),
(19461,52,2955,1406,2917,122,67,64,71,59),
(19461,53,3012,1432,2974,124,68,65,72,60),
(19461,54,3069,1458,3031,126,69,66,73,61),
(19461,55,3126,1484,3088,128,70,67,74,62),
(19461,56,3183,1510,3145,130,71,68,75,63),
(19461,57,3240,1536,3202,132,72,69,76,64),
(19461,58,3297,1562,3259,134,73,70,77,65),
(19461,59,3354,1588,3316,136,74,71,78,66),
(19461,60,3411,1614,3373,138,75,72,79,67),
(19461,61,3468,1640,3430,140,76,73,80,68),
(19461,62,3525,1666,3487,142,77,74,81,69),
(19461,63,3582,1692,3544,144,78,75,82,70),
(19461,64,3639,1718,3601,146,79,76,83,71),
(19461,65,3696,1744,3658,148,80,77,84,72),
(19461,66,3753,1770,3715,150,81,78,85,73),
(19461,67,3810,1796,3772,152,82,79,86,74),
(19461,68,3867,1822,3829,154,83,80,87,75),
(19461,69,3924,1848,3886,156,84,81,88,76),
(19461,70,3981,1874,3943,158,85,82,89,77),

-- 16303 --
(16303,1,42,1,20,22,20,22,20,20),
(16303,2,55,1,21,23,21,23,20,20),
(16303,3,71,1,46,24,21,24,20,21),
(16303,4,86,1,82,25,22,25,21,21),
(16303,5,102,1,126,26,23,25,21,21),
(16303,6,120,1,180,27,24,26,21,22),
(16303,7,137,1,245,28,24,27,21,22),
(16303,8,156,1,322,29,25,28,22,22),
(16303,9,176,1,412,30,26,29,22,23),
(16303,10,198,1,518,31,26,30,22,23),
(16303,11,222,1,545,32,27,34,22,24),
(16303,12,247,1,580,33,28,38,23,25),
(16303,13,273,1,615,34,30,42,23,25),
(16303,14,300,1,650,35,31,46,23,27),
(16303,15,328,1,685,37,32,51,24,28),
(16303,16,356,1,721,38,33,55,25,29),
(16303,17,386,1,756,40,34,59,25,30),
(16303,18,417,1,791,42,36,63,25,30),
(16303,19,449,1,826,44,37,67,26,32),
(16303,20,484,1,861,45,39,72,27,33),
(16303,21,521,1,897,47,39,76,27,34),
(16303,22,562,1,932,49,40,80,27,35),
(16303,23,605,1,967,50,42,84,28,36),
(16303,24,651,1,1002,52,43,88,28,37),
(16303,25,699,1,1037,53,45,94,29,39),
(16303,26,750,1,1072,55,46,98,30,39),
(16303,27,800,1,1108,56,47,102,30,40),
(16303,28,853,1,1142,58,49,106,30,41),
(16303,29,905,1,1177,60,50,110,31,42),
(16303,30,955,1,1212,61,52,115,32,44),
(16303,31,1006,1,1247,63,53,120,32,44),
(16303,32,1057,1,1283,64,54,124,33,46),
(16303,33,1110,1,1317,66,56,128,33,46),
(16303,34,1163,1,1353,67,57,132,33,48),
(16303,35,1220,1,1387,69,59,138,35,49),
(16303,36,1277,1,1494,70,60,142,35,50),
(16303,37,1336,1,1607,72,61,146,35,52),
(16303,38,1395,1,1724,74,63,151,36,52),
(16303,39,1459,1,1849,76,64,155,36,54),
(16303,40,1524,1,1980,78,66,160,37,55),
(16303,41,1585,1,2117,81,68,165,38,56),
(16303,42,1651,1,2262,86,69,169,38,57),
(16303,43,1716,1,2414,91,71,174,39,58),
(16303,44,1782,1,2574,97,72,178,39,59),
(16303,45,1848,1,2742,102,74,184,40,61),
(16303,46,1919,1,2798,104,75,188,41,62),
(16303,47,1990,1,2853,106,77,193,41,63),
(16303,48,2062,1,2907,108,79,197,42,64),
(16303,49,2138,1,2963,110,80,202,42,66),
(16303,50,2215,1,3018,113,82,207,43,67),
(16303,51,2292,1,3072,115,84,212,44,68),
(16303,52,2371,1,3128,117,85,216,44,69),
(16303,53,2453,1,3183,119,87,221,45,70),
(16303,54,2533,1,3237,122,89,226,45,72),
(16303,55,2614,1,3292,124,91,231,47,73),
(16303,56,2699,1,3348,127,92,236,47,74),
(16303,57,2784,1,3402,129,94,241,48,76),
(16303,58,2871,1,3457,131,96,245,48,77),
(16303,59,2961,1,3512,134,98,250,49,78),
(16303,60,3052,1,3814,136,100,256,50,80),
(16303,61,3144,1,4113,139,102,161,51,81),
(16303,62,3237,1,4410,141,105,266,52,83),
(16303,63,3331,1,4708,144,107,271,53,85),
(16303,64,3425,1,5006,146,110,276,54,87),
(16303,65,3524,1,5303,149,113,281,55,89),
(16303,66,3624,1,5601,151,116,287,56,91),
(16303,67,3728,1,5900,154,119,292,57,93),
(16303,68,3834,1,6197,156,122,297,58,95),
(16303,69,3941,1,6495,159,125,302,59,97),
(16303,70,4051,1,6794,162,128,307,60,99);


    

        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -
        -- -- PLACE UPDATE SQL ABOVE -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- --
        -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -

        -- If we get here ok, commit the changes
        IF bRollback = TRUE THEN
            ROLLBACK;
            SHOW ERRORS;
            SELECT '* UPDATE FAILED *' AS `===== Status =====`,@cCurResult AS `===== DB is on Version: =====`;



        ELSE
            COMMIT;
            SELECT '* UPDATE COMPLETE *' AS `===== Status =====`,@cNewResult AS `===== DB is now on Version =====`;
        END IF;
    ELSE    -- Current version is not the expected version
        IF (@cCurResult = @cNewResult) THEN    -- Does the current version match the new version
            SELECT '* UPDATE SKIPPED *' AS `===== Status =====`,@cCurResult AS `===== DB is already on Version =====`;
        ELSE    -- Current version is not one related to this update
            IF(@cCurResult IS NULL) THEN    -- Something has gone wrong
                SELECT '* UPDATE FAILED *' AS `===== Status =====`,'Unable to locate DB Version Information' AS `============= Error Message =============`;
            ELSE
		IF(@cOldResult IS NULL) THEN    -- Something has gone wrong
		    SET @cCurVersion := (SELECT `version` FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
		    SET @cCurStructure := (SELECT `STRUCTURE` FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
		    SET @cCurContent := (SELECT `Content` FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
                    SET @cCurOutput = CONCAT(@cCurVersion, '_', @cCurStructure, '_', @cCurContent, ' - ',@cCurResult);
                    SET @cOldResult = CONCAT('Rel',@cOldVersion, '_', @cOldStructure, '_', @cOldContent, ' - ','IS NOT APPLIED');
                    SELECT '* UPDATE SKIPPED *' AS `===== Status =====`,@cOldResult AS `=== Expected ===`,@cCurOutput AS `===== Found Version =====`;
		ELSE
		    SET @cCurVersion := (SELECT `version` FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
		    SET @cCurStructure := (SELECT `STRUCTURE` FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
		    SET @cCurContent := (SELECT `Content` FROM db_version ORDER BY `version` DESC, STRUCTURE DESC, CONTENT DESC LIMIT 0,1);
                    SET @cCurOutput = CONCAT(@cCurVersion, '_', @cCurStructure, '_', @cCurContent, ' - ',@cCurResult);
                    SELECT '* UPDATE SKIPPED *' AS `===== Status =====`,@cOldResult AS `=== Expected ===`,@cCurOutput AS `===== Found Version =====`;
                END IF;
            END IF;
        END IF;
    END IF;
END $$

DELIMITER ;

-- Execute the procedure
CALL update_mangos();

-- Drop the procedure
DROP PROCEDURE IF EXISTS `update_mangos`;

